# Template: Add this to kubernetes/rpi-cluster/flux/settings/cluster-secrets.sops.yaml
#
# INSTRUCTIONS:
# 1. On your other computer (with SOPS age key), run:
#    sops kubernetes/rpi-cluster/flux/settings/cluster-secrets.sops.yaml
#
# 2. Add the PAGERDUTY_INTEGRATION_KEY to the stringData section:
#
# Example:

apiVersion: v1
kind: Secret
metadata:
  name: cluster-secrets
  namespace: flux-system
type: Opaque
stringData:
  # ... existing secrets ...

  # PagerDuty Integration
  # Get this from: PagerDuty → Services → Your Service → Integrations → Events API V2
  PAGERDUTY_INTEGRATION_KEY: "R1234567890ABCDEFGHIJKLMN"  # Replace with your actual integration key

  # Cluster domain (if not already present)
  CLUSTER_DOMAIN: "k8s-lab.dev"

# 3. Save and exit - SOPS will automatically re-encrypt
# 4. Commit and push the changes
# 5. Flux will apply the updated secret and restart AlertManager

# NOTE: This file is just a template - DO NOT commit this file to Git!
# Only edit the actual cluster-secrets.sops.yaml file with SOPS.
